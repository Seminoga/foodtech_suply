# Технічне завдання на розробку системи автоматизації закупівель ТМЦ (Footech)

## Вступ
Компанія Footech планує впровадити внутрішній веб-застосунок для автоматизації процесу закупівель товарно-матеріальних цінностей (ТМЦ). Система повинна забезпечити централізований і прозорий процес формування заявок на закупівлю, їх погодження та перетворення на рахунки для оплати постачальникам. Очікуваний результат впровадження — підвищення контролю за витратами, дотримання внутрішніх політик, прозорості та підзвітності на всіх етапах закупівель.

Система підтримує фіксовані ролі користувачів (замовник, керівник, менеджер із постачання, казначей, адміністратор) та інтегрується з корпоративною інфраструктурою (авторизація через корпоративну пошту з можливим SSO, подальша інтеграція з 1С, SMTP, Telegram). Далі наведено вимоги до бізнес-процесу, функціоналу, інтеграцій та нефункціональних характеристик.

## Опис бізнес-процесу
1. **Замовник** створює заявку на закупівлю та подає її на погодження.
2. **Керівник** погоджує або відхиляє заявку.
3. **Менеджер із постачання** перетворює погоджену заявку на один або кілька рахунків.
4. **Керівник** погоджує рахунок до оплати.
5. **Казначей** позначає рахунок як оплачений; заявка завершується, коли всі пов’язані рахунки оплачені.

Відхилені документи повертаються на доопрацювання відповідальному користувачу.

## Функціональні вимоги
### 1. Модуль «Заявка на закупівлю» (Замовник)
- Створення заявок із автогенерацією номера та статусом «Чернетка».
- Поля заявки: назва/опис, підрозділ (зі списку), бажана дата отримання, дата створення (авто), статус.
- Додавання позицій: номенклатура, од. виміру, кількість; підготовка до інтеграції з довідником 1С.
- Прикріплення файлів (PDF, зображення, Office; 5–10 МБ).
- Редагування в статусі «Чернетка»; збереження та подання на погодження («На погодженні»).
- Після подання редагування недоступне до відхилення.
- Перегляд власних заявок, деталей, вкладень, історії погоджень і актуального статусу виконання.

### 2. Модуль «Погодження заявки» (Керівник)
- Список заявок на погодження із фільтром за статусом.
- Перегляд деталей заявки та вкладень.
- Рішення: погодити (статус «Погоджена») або відхилити з обов’язковим коментарем (статус «Відхилена»).
- Коментарі та історія дій доступні замовнику та менеджеру із постачання.
- Повідомлення замовнику про результат (внутрішні нотифікації; email/месенджер у майбутньому).

### 3. Модуль «Обробка погоджених заявок та створення рахунків» (Менеджер із постачання)
- Доступ до погоджених заявок, список «До виконання».
- Перегляд погодженої заявки: позиції, коментарі, вкладення.
- Формування одного або кількох рахунків із розподілом позицій між постачальниками.
- Дані рахунку: постачальник, реквізити, позиції (із заявки), ціна/сума, автогенерація номера, статус «Чернетка».
- Вкладення до рахунку (формати як у заявках).
- Подання рахунку на погодження керівнику («Очікує погодження оплати»).
- Відмітка покриття позицій заявки (відстеження часткового/повного виконання).
- Редагування або видалення чернетки; доопрацювання після відхилення.

### 4. Модуль «Погодження рахунку на оплату» (Керівник)
- Список рахунків на погодження з прив’язкою до заявок.
- Перегляд деталей рахунку та вкладень.
- Рішення: погодити («Погоджений до оплати») або відхилити з причиною («Відхилений»).
- Коментарі та історія погодження доступні менеджеру і, за потреби, замовнику.
- Повідомлення менеджеру та, за потреби, казначею.

### 5. Модуль «Оплата рахунків» (Казначей/Бухгалтер)
- Список рахунків, погоджених до оплати.
- Перегляд реквізитів, суми, прив’язки до заявки та погоджень.
- Відмітка «Оплачений» із датою оплати; можливість вказати платіжні реквізити/номер доручення, часткову оплату, додати підтвердження.
- Автоматичне завершення заявки після оплати всіх рахунків.
- Перегляд історії оплат із фільтрами.
- Без права змінювати зміст рахунків після погодження.

### 6. Доступи та ролі
- **Замовник:** CRUD для власних заявок до подання; перегляд статусів.
- **Керівник:** перегляд заявок підлеглих/підрозділу, погодження/відхилення заявок і рахунків, коментарі.
- **Менеджер із постачання:** перегляд погоджених заявок, створення/редагування рахунків, перегляд статусів оплат.
- **Казначей:** перегляд погоджених рахунків, відмітка оплат, перегляд історії.
- **Адміністратор:** керування довідниками (користувачі/ролі, номенклатура, постачальники, підрозділи), налаштування системи.

### 7. Авторизація та контроль доступу
- Лише корпоративні обліковки (перевірка домену email/SSO).
- Ролі призначаються адміністратором; користувачі не можуть змінювати власну роль.

### 8. Статуси документів
- **Заявка:** «Чернетка», «На погодженні», «Погоджена», «Відхилена», «В процесі виконання», «Виконана».
- **Рахунок:** «Чернетка», «На погодженні», «Погоджений», «Відхилений», «Оплачений» (опційно «Частково оплачений»).

### 9. Моніторинг, сповіщення, аудит
- Відстеження прогресу заявок/рахунків; підсвічування прострочених етапів.
- Сповіщення email/внутрішні; у перспективі Telegram-бот.
- Журнал аудиту: користувач, дата/час, дія; доступний адміністраторам/уповноваженим.

## Нефункціональні вимоги
- **Веб-застосунок:** сучасний UI, українська мова, адаптивність для десктоп/планшетів; підтримка Chrome/Firefox/Edge/Safari.
- **Продуктивність:** основні операції ≤2–3 с; індикатор прогресу для довгих дій.
- **Безпека:** HTTPS, перевірка сесій, захист від SQL-ін’єкцій/XSS; автоматичний вихід при неактивності.
- **Цілісність даних:** транзакційність для критичних операцій; уникнення дублювання/пропусків позицій при створенні рахунків.
- **Зберігання файлів:** серверне сховище або BLOB, резервне копіювання файлів і БД.
- **Масштабованість та резерв:** початково один сервер, готовність до винесення БД і горизонтального масштабування; регулярний бекап.
- **Логи та моніторинг:** ведення логів помилок та авторизацій; інтеграція з корпоративним моніторингом за потреби.

## Інтеграції та розвиток
- **1С:** імпорт довідників (номенклатура, постачальники, підрозділи); вивантаження погоджених рахунків; в перспективі імпорт фактів оплати.
- **SMTP:** email-сповіщення українськими шаблонами через корпоративний сервер/API.
- **Telegram:** у майбутньому — бот для сповіщень і простих дій погодження через API/webhook.
- **Мобільна підтримка:** базова адаптивність; можливе майбутнє розширення.
- **Розширюваність:** можливість додавати нові ролі/кроки (наприклад, погодження фіндиректором, підтвердження отримання товару); конфігуровані правила погодження та ліміти сум.

## Документація та тестування
- Керівництво користувача українською мовою.
- Модульні, інтеграційні, навантажувальні та безпекові тести; прийомне тестування з боку замовника.
- Резерв часу на виправлення багів і покращення UX.
